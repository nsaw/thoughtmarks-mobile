{
    "notes": [
      "🏹 MISSION: Baseline Lock, Versioned Folder Hygiene, and Core App Sprint",
      "🎯 GOAL: Clean, scaffold, and version the tm-mobile-cursor repo, then proceed directly to restoring core app functionality (auth, dashboard, session, premium/EAS).",
      "🚨 SAFETY ENFORCEMENT 🚨",
      "✅ Create .backup, /tasks/vX.Y.Z/, and /docs folders if missing.",
      "✅ Move all legacy, rollback, or experiment files into versioned folders (/tasks/vX.Y.Z/).",
      "✅ Add .gitignore for .backup/, /tasks/vX.Y.Z/, node_modules/, .DS_Store, etc.",
      "✅ Ensure /docs contains README.md and REFACTOR_WORKFLOW_CHECKLIST.md.",
      "✅ Run git status, npm run test:safeguards, npm run lint, and tsc --noEmit; halt on any error.",
      "✅ Commit all changes, tag as v1.3.1_locked-baseline-ready-for-sprint, and push.",
      "✅ Proceed with core app sprint only after hygiene and locking are confirmed.",
      "📌 Commit a rollback checkpoint before any file changes."
    ],
    "parseCheck": true,
    "onParseFail": "revert-and-alert",
    "postMutationBuild": "tsc --noEmit && npm run lint",
    "blockCommitOnError": true,
    "alertUserOnParseFail": true,
    "preCommit": {
      "before": [
        "git add .",
        "git commit -m \"chore(rollback): full snapshot before baseline cleanup v1.3.1\"",
        "git tag v1.3.1_pre-baseline-cleanup-ROLLBACK",
        "git push origin v1.3.1_pre-baseline-cleanup-ROLLBACK"
      ]
    },
    "branch": "feature/v1.3.1_core-app-sprint",
    "mode": "auto",
    "watchConsole": true,
    "onReloadHang": "Move to background and resume automatically",
    "phases": [
      {
        "section": "Versioned Folder Scaffold & Hygiene",
        "actions": [
          "Create .backup/, /tasks/vX.Y.Z/, and /docs folders if missing.",
          "Move all legacy, rollback, or experiment files/scripts into the correct /tasks/vX.Y.Z/ folder, matching each file to the nearest version.",
          "Add/update .gitignore: ignore .backup/, /tasks/vX.Y.Z/, node_modules/, .DS_Store, .env.local, log files.",
          "Ensure /docs contains README.md and REFACTOR_WORKFLOW_CHECKLIST.md with most recent workflow."
        ],
        "commit": "chore: versioned folder scaffold and hygiene enforced",
        "tag": "v1.3.1_folder-scaffold"
      },
      {
        "section": "Integrity, Safeguard, and Lint Checks",
        "actions": [
          "Run git status; alert and pause if untracked files found.",
          "Run npm run test:safeguards; halt if any accessibility or parse errors.",
          "Run npm run lint and tsc --noEmit; halt if any error remains."
        ],
        "commit": "chore: repo integrity, safeguards, and lint checks passed",
        "tag": "v1.3.1_safeguard-check"
      },
      {
        "section": "Baseline Lock, Tag, and Push",
        "actions": [
          "git add .",
          "git commit -m 'chore(rollback): lock baseline after accessibility & theming enforcement'",
          "git tag v1.3.1_locked-baseline-ready-for-sprint",
          "git push",
          "git push --tags"
        ],
        "commit": "chore: baseline locked, pushed, and ready for core app sprint",
        "tag": "v1.3.1_locked-baseline-ready-for-sprint"
      },
      {
        "section": "Auth/Login Flow & Hydration Guard",
        "actions": [
          "Implement/verify login and sign-up screens (Firebase Auth, React Native screens, correct theming).",
          "Ensure session hydration guard: app checks for valid auth session on launch, redirects to login if needed.",
          "Fallback error/timeout screen if hydration fails."
        ],
        "commit": "feat: restore login, signup, and session hydration guard",
        "tag": "v1.3.1_auth-restore"
      },
      {
        "section": "Dashboard Block & Main Routing",
        "actions": [
          "Ensure dashboard/home blocks user if not authed.",
          "Add loading/splash until auth checked.",
          "Lock navigation (no dashboard or main screens without session)."
        ],
        "commit": "feat: dashboard block and main routing logic restored",
        "tag": "v1.3.1_dashboard-block"
      },
      {
        "section": "App State & Idle Logout",
        "actions": [
          "Implement app state listener: auto-logout or lock if app idle/minimized for > N min.",
          "Restore session/role on resume.",
          "Test: manually background app, confirm state is safe."
        ],
        "commit": "feat: app state listener and idle logout",
        "tag": "v1.3.1_idle-logout"
      },
      {
        "section": "Premium Feature Wrapper & Fallback",
        "actions": [
          "Restore or refactor PremiumFeatureWrapper: disables/hides premium-only features if user.role !== 'premium'.",
          "Fallback screen or overlay for unauthorized access."
        ],
        "commit": "feat: premium feature wrapper and fallback overlay",
        "tag": "v1.3.1_premium-wrapper"
      },
      {
        "section": "EAS Integration Check",
        "actions": [
          "Test: EAS build runs clean, no CI secret leaks, app launches and auth flows confirmed in staging."
        ],
        "commit": "chore: EAS integration and staging check",
        "tag": "v1.3.1_eas-check"
      }
    ],
    "final": {
      "commit": "chore: baseline, versioned folder structure, and core app sprint complete",
      "tag": "v1.3.1_core-app-sprint-complete",
      "notes": [
        "Repo, folders, docs, and snapshot are organized by version/phase for rollback and restore at any point.",
        "Core app functionality (auth, hydration, routing, premium block) is fully restored and verified.",
        "You are ready to begin advanced features, polish, and QA."
      ]
    }
  }
  