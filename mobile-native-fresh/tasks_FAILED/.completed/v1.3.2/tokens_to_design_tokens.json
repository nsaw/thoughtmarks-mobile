{
  "notes": [
    "‚úÖ PRE-CHECK: Confirm all unsaved changes are committed or backed up.",
    "üß† MISSION: Rename all legacy 'tokens' destructuring and params to 'designTokens' across the project.",
    "üéØ GOAL: Fully eliminate duplicate 'tokens' declaration errors and enforce consistent theming identifiers.",
    "üìå CONTEXT: Errors stem from multiple `tokens` identifiers in destructuring and function parameters.",
    "üí• BUG: `Identifier 'tokens' has already been declared` ‚Äì violates `useTheme()` usage patterns and breaks bundling.",
    "üîß FIX SUMMARY:",
    "- Rename all destructured `{ tokens }` from `useTheme()` ‚Üí `{ designTokens }`.",
    "- Rename any function parameters named `tokens` ‚Üí `designTokens`.",
    "- Collapse multiple `useTheme()` calls into one and destructure cleanly.",
    "- Enforce with ESLint rule and clean commit history.",
    "üîê RELEVANCE: Prevents bundling failures, ensures theme consistency, avoids collisions in React Native/Expo runtime."
  ],
  "parseCheck": true,
  "onParseFail": "revert-and-alert",
  "postMutationBuild": "tsc --noEmit && npm run lint:fix-all",
  "blockCommitOnError": true,
  "alertUserOnParseFail": true,
  "preCommit": {
    "before": [
      "git add .",
      "git commit -m \"chore(rollback): backup before tokens refactor\"",
      "git tag v1.3.6_pre-token-cleanup_250630_UTC",
      "sh scripts/backup-tag-push.sh v1.3.6_pre-token-cleanup_250630_UTC"
    ]
  },
  "branch": "fix/v1.3.6_tokens-designTokens-refactor",
  "mode": "auto",
  "watchConsole": true,
  "onReloadHang": "Move to background and resume automatically",
  "phases": [
    {
      "section": "Find and Replace All `tokens` Destructured from useTheme()",
      "actions": [
        "Find all destructuring patterns `const { tokens` from `useTheme()` and rename to `designTokens`",
        "If multiple destructures exist (e.g. `tokens`, `typography`), collapse to a single `theme = useTheme()` followed by `const { designTokens, typography } = theme`"
      ],
      "commit": "fix: rename destructured `tokens` ‚Üí `designTokens` across useTheme usage",
      "tag": "v1.3.6_tokens-destructured-fix_250630_UTC"
    },
    {
      "section": "Refactor Function Parameters Named `tokens`",
      "actions": [
        "Find all function parameters named `tokens` and rename them to `designTokens`",
        "Ensure no duplicate destructuring inside function body if `useTheme()` is called again"
      ],
      "commit": "fix: rename function parameters `tokens` to `designTokens`",
      "tag": "v1.3.6_tokens-param-fix_250630_UTC"
    },
    {
      "section": "Collapse Multiple useTheme() Calls Per File",
      "actions": [
        "Find any file where `useTheme()` is called multiple times and collapse to single `const theme = useTheme()` with destructuring",
        "Standardize destructuring pattern: `const { designTokens, typography, spacing } = theme`"
      ],
      "commit": "refactor: collapse redundant useTheme() calls and unify destructuring",
      "tag": "v1.3.6_theme-usage-consolidated_250630_UTC"
    },
    {
      "section": "Add ESLint Rule Override to Enforce `designTokens` Only",
      "actions": [
        "Update .eslintrc.cjs to enforce 'no-redeclare' with allowed identifier `designTokens`, disallow `tokens`",
        "Add comment enforcement message: 'useTheme() must destructure as designTokens, not tokens'"
      ],
      "commit": "chore: enforce designTokens via eslint rule override",
      "tag": "v1.3.6_eslint-tokens-restriction_250630_UTC"
    },
    {
      "section": "Update tasks/INDEX.md with v1.3.6 refactor block",
      "actions": [
        "If INDEX.md not found, create it.",
        "Insert entry for v1.3.6 in version-sorted order.",
        "Add rows to v1.3.6 table with task description and file reference."
      ],
      "commit": "docs: update INDEX.md to include v1.3.6 token refactor task",
      "tag": "v1.3.6_index-updated_250630_UTC"
    }
  ],
  "final": {
    "commit": "chore: complete project-wide tokens ‚Üí designTokens refactor",
    "tag": "v1.3.6_designTokens-enforcement-complete_250630_UTC",
    "notes": "All `tokens` redeclaration errors removed. Unified theme usage across codebase. Safe for production."
  }
}
