{ "notes": [ "üß† MISSION: PIN + Premium Role Enforcement", "üéØ GOAL: Ensure premium user gating, PIN validation, and correct role assignment (free, premium, admin) are enforced.", "‚úÖ PRE-CHECK: Tag and commit rollback.", "üìå CONTEXT: Used to block or permit advanced features and role-only UI.", "üîê RELEVANCE: Locks feature access based on user plan/role." ], "parseCheck": true, "onParseFail": "revert-and-alert", "postMutationBuild": "tsc --noEmit && npm run lint:fix-all", "blockCommitOnError": true, "alertUserOnParseFail": true, "preCommit": { "before": [
      "tar --exclude='.git' --exclude='node_modules' --exclude='logs' -czf /Users/sawyer/gitSync/tm-safety_backups/tm-mobile-cursor_v1.3.2_pin-premium-role_250630_XXXXUTC.tar.gz -C /Users/sawyer/gitSync tm-mobile-cursor", "git add .", "git commit -m \"chore(rollback): checkpoint before pin-premium\"", "git tag v1.3.2_pre-pin-premium_250630_XXXXUTC", "sh scripts/backup-tag-push.sh v1.3.2_pre-pin-premium_250630_XXXXUTC" ] }, "branch": "feature/v1.3.2_pin-premium-role", "mode": "auto", "watchConsole": true, "phases": [ { "section": "Phase 1: PIN Entry & Gating", "actions": [ "Validate all PIN entry, recovery, and failure logic.", "Test PIN gating after login, logout, and app restore." ], "commit": "fix: PIN logic enforced and validated", "tag": "v1.3.2_pin-validated_250630_XXXXUTC" }, { "section": "Phase 2: Premium Role Assignment & UI Gating", "actions": [ "Confirm role logic (premium/free/admin) after StoreKit purchase, restore, or login.", "Validate all premium features are gated for free users, unlocked for premium.", "Check for leaks: no premium-only UI accessible to free users." ], "commit": "fix: premium role gating validated", "tag": "v1.3.2_premium-role-validated_250630_XXXXUTC" } ], "final": { "commit": "chore: pin + premium role enforcement complete", "tag": "v1.3.2_pin-premium-role-complete_250630_XXXXUTC", "notes": [ "All PIN and role gating logic confirmed functional.", "Move block JSON to /tasks/v1.3.2/ and update tasks/INDEX.md." ], "actions": [ "mv ./tasks/3_v1.3.2_pin-premium-role.cursor-instruction.json ./tasks/v1.3.2/", "update tasks/INDEX.md with this block's results" ] } }